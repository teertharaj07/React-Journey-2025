****42: Why Keys Are Important in React JS: Common Problems & Solutions Explained with Animation****
---------------------------Key in react App-----------------------
In this video, we'll explore why keys are essential in React JS, the problems that arise when they are not used properly, and how to fix these issues. Through a coding example, you'll see firsthand the impact of missing keys on list rendering and updating. We'll use animation slides to make it easy to understand why keys are so important. By the end, you'll know how to use keys effectively to avoid common pitfalls and ensure your React applications run smoothly. For instance, see how missing keys in a todo list app can cause task update issues and how to solve them. üí∏

=====================================================
Keys.jsx



Keys in React.js

* A string or a number that uniquely identifies it among other items in that array.

* Keys tell React which array item each component corresponds to, so that it can match them up later. |
This becomes important if your array items can move (e.g. due to sorting), get inserted, or get deleted.

* Rules
* Keys must be unique among siblings

* Keys must not change 

===========================================
When you don't use a key attribute, React.js will automatically use index.

---------------------------------------
const array = [‚ÄúThapa‚Äù, ‚ÄúTechnical‚Äù ]
return (
<ul>
   {array.map((a) =>
     <li>{a}</li>
   )}
</ul>
)

---------------------------
============================================

This code will lead to a structure something like this. 

return (
<ul>
<li key={0}>Thapa</li>
<li key={1}>Technical</li>
</ul>
)




---------------------------------
const array = [‚ÄúThapa‚Äù, ‚ÄúTechnical‚Äù ]
return (
<ul>
   {array.map((a) =>
     <li>{a}</li>
   )}
</ul>
)

---------------------------


==========================================================
Imagine we pushed ‚ÄúYouTube‚Äù at the end, then react will generate new tree of structure.

//before
    // setTasks((prevTasks) => [ inputValue, ...prevTasks]);
-------------------------
return (
<ul>
<li key={0}>Thapa</li>
<li key={1}>Technical</li>
</ul>
)
---------------------------
return (
<ul>
<li key={0}>Thapas/li>
<li key={1}>Technical</li>
<li key={2}>YouTube</li>
</ul>
)
------------------------------
=============================================================

Since, we are using indexes, new item will get key value as 2.
    //after
    setTasks((prevTasks) => [...prevTasks, inputValue]);
-------------------------
return (
<ul>
<li key={0}>Thapa</li>
<li key={1}>Technical</li>
</ul>
)
---------------------------
return (
<ul>
<li key={0}>Thapas/li>
<li key={1}>Technical</li>
<li key={2}>YouTube</li>
</ul>
)
------------------------------
Now, React.js will perform reconciliation to differentiate which item is adds 
needs to be changed.
===============================================

React. js sees that text node of item with key 0 and 1 is unchanged.
But we have a new <li> node at the end based on the fact that new key is added.

-------------------------
return (
<ul>
<li key={0}>Thapa</li>
<li key={1}>Technical</li>
</ul>
)
---------------------------
return (
<ul>
<li key={0}>Thapas/li>
<li key={1}>Technical</li>
<li key={2}>YouTube</li>
</ul>
)
------------------------------


=======================================
Then React.js will inform ReactDOM add a new <li> at the end of <ul> children.
Sounds fine? Let's see a scenario when we add item to the beginning of our array.

return (
<ul>
<li key={0}>Thapa</li>
<li key={1}>Technical</li>
</ul>
)
---------------------------
return (
<ul>
<li key={0}>Thapas/li>
<li key={1}>Technical</li>
<li key={2}>YouTube</li>
</ul>
)
------------------------------
============================================================
If you add ‚ÄúSubscribe‚Äù to the beginning of our array, then new tree is generated by React.js. |
Now, React. js starts reconciliation process to find out what's changed.

-------------------------------
return (
<ul>
<li key={0}>Thapa</li>
<li key={1}>Technical</li>
</ul>
)
---------------------------

return (
<ul>
<li key={0}>Subscribe</li>
<li key={1}>Thapa</li>
<li key={2}>Technical</li>
</ul>
)
--------------------------

=================================================

Since we are using index as keys, keys of all items will change. 

React.js will compare items based on keys and it sees that item with key (0) in previous tree has different text node than key (0) in new tree. 


-------------------------------
return (
<ul>
<li key={0}>Thapa</li>
<li key={1}>Technical</li>
</ul>
)
---------------------------

return (
<ul>
<li key={0}>Subscribe</li>
<li key={1}>Thapa</li>
<li key={2}>Technical</li>
</ul>
)
--------------------------
==================================================

It then also realizes that element with key (1) in old tree and element with key (1) in new tree has different text node.

-------------------------------
return (
<ul>
<li key={0}>Thapa</li>
<li key={1}>Technical</li>
</ul>
)
---------------------------

return (
<ul>
<li key={0}>Subscribe</li>
<li key={1}>Thapa</li>
<li key={2}>Technical</li>
</ul>
)
--------------------------

======================================================

React js then realizes that item with key (2) is new.
At the end, React. js will update text node of all <li> at the beginning and it will
append <li> at the end.
But shouldn't <li> gets added at the top?

-------------------------------
return (
<ul>
<li key={0}>Thapa</li>
<li key={1}>Technical</li>
</ul>
)
---------------------------

return (
<ul>
<li key={0}>Subscribe</li>
<li key={1}>Thapa</li>
<li key={2}>Technical</li>
</ul>
)
--------------------------

==================================================

React.js is updating text node of all <li> elements when it shouldn't have.
This is happening because of indexes being used as key.
That's why, your key should never ever change for an element. This can
cause lots of problems.


-------------------------------
return (
<ul>
<li key={0}>Thapa</li>
<li key={1}>Technical</li>
</ul>
)
---------------------------

return (
<ul>
<li key={0}>Subscribe</li>
<li key={1}>Thapa</li>
<li key={2}>Technical</li>
</ul>
)
--------------------------


=======================================